{"version":3,"sources":["components/reducers/UserReducer.js","styles/styles.js","components/navbar/LogInTab.js","services/orders.js","components/reducers/OrdersReducer.js","components/navbar/ShoppingCartTab.js","components/navbar/NavbarTab.js","components/navbar/AdminTab.js","components/navbar/TogglableMenu.js","components/navbar/NormalMenu.js","components/navbar/Navbar.js","services/ratings.js","components/reducers/RatingsReducer.js","components/reducers/NotificationReducer.js","components/reducers/CartReducer.js","components/AddToCartButton.js","components/products/ProductView.js","services/products.js","components/reducers/ProductsReducer.js","components/products/ProductFilter.js","components/products/ProductSearch.js","components/products/Products.js","services/users.js","components/MyTextInput.js","components/SignUp.js","components/LogIn.js","components/Frontpage.js","services/reviews.js","components/reducers/ReviewsReducer.js","services/likes.js","components/reducers/LikesReducer.js","components/reducers/AppDataContext.js","components/Notification.js","components/shoppingCart/CartProductView.js","components/shoppingCart/CheckoutDialog.js","components/shoppingCart/ShoppingCart.js","components/productDetails/ProductDescription.js","components/productDetails/ProductListItem.js","components/productDetails/ProductReview.js","components/productDetails/ProductDetailView.js","components/admin/products/ProductsList.js","components/admin/products/ProductsCreate.js","components/admin/products/ProductsEdit.js","components/admin/users/UsersList.js","components/admin/users/UsersEdit.js","components/admin/users/UsersCreate.js","components/admin/AdminPage.js","App.js","index.js"],"names":["UserContext","React","createContext","useUsers","useContext","userReducer","state","action","type","payload","UserReducer","children","useReducer","user","dispatchUser","useEffect","userJSON","window","localStorage","getItem","now","Date","userObject","JSON","parse","expiry","getTime","removeItem","Provider","value","useStyles","makeStyles","container","display","flexDirection","justifyContent","alignItems","backgroundColor","paddingTop","paddingBottom","productSearch","toolbar","logIn","padding","form","input","margin","header","marginLeft","marginRight","white","color","grey","marginTop","products","flexWrap","marginBottom","productsPage","productCard","green","border","borderRadius","message","blue","cardContent","text1","textAlign","sum","borderWidth","cardContent2","card1","cardContent3","width","cardContent4","LogInTab","classes","history","useHistory","IconButton","className","onClick","push","Typography","LockOpen","fontSize","Lock","url","getAll","a","axios","get","res","data","getUsersOrders","id","getProductCount","addToCart","productId","userId","post","removeAllFromCart","all","delete","orderService","removeProductFromCart","OrdersContext","useOrders","orderReducer","userPayload","filter","x","deleteId","includes","OrdersReducer","orders","dispatchOrders","then","ShoppingCartTab","aria-label","Badge","badgeContent","length","countContent","NavbarTab","name","pathTo","props","isSelected","location","useLocation","Button","startIcon","pathname","style","variant","size","AdminTab","TogglableMenu","admin","useState","anchorEl","setAnchorEl","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","NormalMenu","Navbar","theme","useTheme","isMatch","useMediaQuery","breakpoints","down","isAdmin","AppBar","appBar","position","Toolbar","ratingService","addRating","starRating","RatingsContext","ratingReducer","RatingReducer","ratings","dispatchRatings","NotificationContext","useNotification","messageType","isError","notificationReducer","NotificationReducer","notification","dispatchNotification","CartContext","useCart","cartReducer","CartReducer","cartProducts","dispatchCart","AddToCartButton","buttonText","userCart","addProductToCart","createOrder","userOrders","CardActions","ProductView","rating","product","notificationMessage","msg","setTimeout","find","average","map","reduce","b","submitRating","newRating","Grid","Card","CardContent","gutterBottom","price","Rating","onChange","newValue","productService","ProductsContext","useProducts","productReducer","ProductsReducer","dispatchProducts","productsDispatch","ProductFilter","options","handleChange","findValue","category","component","ProductSearch","setName","TextField","e","target","label","Products","setCategory","categoryArray","newArray","Set","o","stringify","s","obj","z","toLowerCase","y","userService","signUp","MyTextInput","useField","field","meta","touched","error","SignUp","validationSchema","Yup","max","required","email","password","min","onSubmit","values","loggedInUser","setItem","console","initialValues","noValidate","autoComplete","placeholder","Login","timeNow","item","Math","pow","Frontpage","fontWeight","reviewService","addReview","reviewText","ReviewsContext","useReviews","reviewReducer","ReviewsReducer","reviews","dispatchReviews","log","process","likeService","addLike","reviewId","removeLike","likeId","LikesContext","useLikes","likeReducer","LikesReducer","likes","dispatchLikes","AppDataContext","Notification","Snackbar","Alert","severity","CartProductView","deleteObj","Box","Product","Number","productCount","CheckoutDialog","order","setOpen","fullScreen","handleClose","deleteAll","allOrders","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","ShoppingCart","joku","fetchCart","sumAllFromCart","ProductDescription","useParams","textDecoration","fontStyle","ProductListItem","findIfReviewed","review","User","countLikes","likeReview","like","dislikeReview","like2","ListItem","ListItemAvatar","Avatar","alt","ListItemText","primary","secondary","Fragment","Divider","ProductReview","text","setText","submitReview","allReviews","multiline","ProductDetailView","filteredAndSortedReviews","sort","List","ProductsList","Datagrid","source","DateField","EditButton","basePath","DeleteButton","ProductsCreate","Create","title","SimpleForm","TextInput","NumberInput","step","ProductsEdit","Edit","disabled","UsersList","BooleanField","UsersEdit","BooleanInput","UsersCreate","PasswordInput","AdminPage","createBrowserHistory","Admin","dataProvider","restProvider","Resource","list","create","edit","ListGuesser","App","Container","maxWidth","exact","path","LogIn","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5dec0813.chunk.js","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nexport const useUsers = () => {\r\n  return useContext(UserContext);\r\n};\r\n\r\nconst userReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"logIn\":\r\n      return action.payload;\r\n    case \"logOut\":\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst UserReducer = ({ children }) => {\r\n  const [user, dispatchUser] = useReducer(userReducer, null);\r\n\r\n  useEffect(() => {\r\n    const userJSON = window.localStorage.getItem(\"loggedUser\");\r\n    if (userJSON) {\r\n      const now = new Date();\r\n      const userObject = JSON.parse(userJSON);\r\n      if (userObject.expiry < now.getTime()) {\r\n        window.localStorage.removeItem(\"loggedUser\");\r\n        dispatchUser({ type: \"logOut\" });\r\n      }\r\n\r\n      dispatchUser({ type: \"logIn\", payload: userObject });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <UserContext.Provider value={{ user: user, dispatchUser: dispatchUser }}>\r\n        {children}\r\n      </UserContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserReducer;\r\n","import { makeStyles } from \"@material-ui/core\";\r\n\r\nexport const useStyles = makeStyles(() => ({\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"wheat\",\r\n    paddingTop: \"1%\",\r\n    paddingBottom: \"2%\",\r\n  },\r\n  productSearch: {\r\n    backgroundColor: \"white\"\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  logIn: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"white\",\r\n    padding: \"2%\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  input: {\r\n    margin: \"5%\"\r\n  },\r\n  header: {\r\n    marginLeft: \"2%\",\r\n    marginRight: \"2%\"\r\n  },\r\n  white: {\r\n    color: \"white\"\r\n  },\r\n  grey: {\r\n    backgroundColor: \"grey\",\r\n    marginTop: \"0\"\r\n  },\r\n  products: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    marginBottom: \"2%\"\r\n  },\r\n  productsPage: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    \r\n  },\r\n  productCard: {\r\n    marginBottom: \"2%\"\r\n  },\r\n  green: {\r\n    border: \"solid\",\r\n    borderRadius: \"5px\",\r\n    padding: \"2px\"\r\n\r\n  },\r\n  message: { \r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n   },\r\n  blue: {\r\n    backgroundColor: \"#3f51b5\"\r\n  },\r\n cardContent: {\r\n   display: \"flex\",\r\n   justifyContent: \"center\",\r\n   flexDirection: \"column\",\r\n   marginBottom: \"2%\"\r\n },\r\n text1: {\r\n   textAlign: \"center\"\r\n },\r\n sum: {\r\n  border: \"solid\",\r\n  borderWidth: \"thin\",\r\n  borderRadius: \"5px\",\r\n  padding: \"2px\",\r\n  backgroundColor: \"white\",\r\n  textAlign: \"center\",\r\n  marginBottom: \"2%\"\r\n },\r\n cardContent2: {\r\n   display: \"flex\",\r\n   justifyContent: \"center\",\r\n },\r\n card1: {\r\n   marginTop: \"2%\",\r\n   marginBottom: \"2%\"\r\n },\r\n cardContent3: {\r\n  width: \"50%\",\r\n  marginBottom: \"2%\",\r\n\r\n},\r\ncardContent4: {\r\n  width: \"90%\",\r\n  marginBottom: \"2%\",\r\n},\r\n\r\n}));\r\n","import React from \"react\";\r\nimport { IconButton, Typography } from \"@material-ui/core\";\r\nimport { LockOpen, Lock } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport {useStyles} from \"../../styles/styles\"\r\n\r\nconst LogInTab = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const user = useUsers();\r\n\r\n  const handleChange = () => {\r\n    if (user.user) {\r\n      window.localStorage.removeItem(\"loggedUser\");\r\n      user.dispatchUser({ type: \"logOut\" });\r\n    }\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton className={classes.white} onClick={handleChange}>\r\n        {user.user ? (\r\n          <Typography>\r\n            <LockOpen fontSize=\"large\" />\r\n            logout\r\n          </Typography>\r\n        ) : (\r\n          <Typography>\r\n            <Lock fontSize=\"large\" />\r\n            login\r\n          </Typography>\r\n        )}\r\n      </IconButton>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LogInTab;\r\n","import axios from \"axios\";\r\n\r\nconst url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api/orders\" : \"/api/orders\"\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(url);\r\n  return res.data;\r\n};\r\n\r\nconst getUsersOrders = async (id) => {\r\n  const res = await axios.get(`${url}/${id}`);\r\n  return res.data;\r\n};\r\n\r\nconst getProductCount = async (id) => {\r\n  const res = await axios.get(`${url}/user/${id}`);\r\n  return res.data;\r\n};\r\n\r\nconst addToCart = async (productId, userId) => {\r\n  const res = await axios.post(`${url}/add`, { productId, userId });\r\n  return res.data;\r\n};\r\n\r\nconst removeAllFromCart = async (all) => {\r\n  await axios.delete(`${url}`, { data: { all: all } });\r\n};\r\n\r\nconst removeProductFromCart = async (id) => {\r\n  await axios.delete(`${url}/${id}`);\r\n};\r\n\r\nconst orderService = {\r\n  addToCart,\r\n  getAll,\r\n  removeProductFromCart,\r\n  getUsersOrders,\r\n  getProductCount,\r\n  removeAllFromCart,\r\n};\r\n\r\nexport default orderService;\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport orderService from \"../../services/orders\";\r\n\r\nexport const OrdersContext = React.createContext();\r\n\r\nexport const useOrders = () => {\r\n  return useContext(OrdersContext);\r\n};\r\n\r\nconst orderReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"getAll\":\r\n      return action.payload;\r\n    case \"userOrders\":\r\n      return action.userPayload;\r\n    case \"add\":\r\n      return [...state, action.payload];\r\n    case \"delete\":\r\n      return state.filter((x) => x.id !== action.deleteId);\r\n    case \"deleteAll\":\r\n      return [...state.filter((x) => !action.payload.includes(x))];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst OrdersReducer = ({ children }) => {\r\n  const [orders, dispatchOrders] = useReducer(orderReducer, null);\r\n\r\n  useEffect(() => {\r\n    orderService\r\n      .getAll()\r\n      .then((x) => dispatchOrders({ type: \"getAll\", payload: x }));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <OrdersContext.Provider\r\n        value={{ orders: orders, dispatchOrders: dispatchOrders }}\r\n      >\r\n        {children}\r\n      </OrdersContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrdersReducer;\r\n","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { ShoppingCart } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport { useOrders } from \"../reducers/OrdersReducer\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { useStyles } from \"../../styles/styles\"\r\n\r\nconst ShoppingCartTab = () => {\r\n  const classes = useStyles();\r\n  const { user } = useUsers();\r\n  const { orders } = useOrders();\r\n  const history = useHistory();\r\n\r\n  if (!orders) return null;\r\n\r\n  const countContent = () => {\r\n    if (user) return orders.filter((x) => x.userId === user.id).length;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n      className={classes.white}\r\n        onClick={() => history.push(\"/shoppingcart\")}\r\n        aria-label=\"add to shopping cart\"\r\n      >\r\n        <Badge color=\"secondary\" badgeContent={countContent()}>\r\n          <ShoppingCart fontSize=\"large\" />\r\n        </Badge>\r\n      </IconButton>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShoppingCartTab;\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport {useLocation} from 'react-router-dom'\r\n\r\n\r\nconst NavbarTab = ({ name, pathTo, isSelected, ...props }) => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  return (\r\n    \r\n      <Button\r\n      {...props}\r\n      startIcon={location.pathname===pathTo && <CheckIcon/>}\r\n      style={{color:\"white\"}}\r\n        variant=\"outlined\"\r\n        size=\"large\"\r\n        onClick={() => history.push(pathTo)}\r\n      >\r\n        {name}\r\n      </Button>\r\n  \r\n  );\r\n};\r\n\r\nexport default NavbarTab;\r\n","import React from 'react'\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport { IconButton, Typography } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {useStyles} from \"../../styles/styles\"\r\n\r\n\r\nconst AdminTab = ({pathTo}) => {\r\n  const classes = useStyles();\r\n    const history = useHistory();\r\n    return (\r\n        <>\r\n        <IconButton\r\n        className={classes.blue}\r\n          aria-label=\"admin\"\r\n        >\r\n          <Typography className={classes.white}  >\r\n            <SupervisorAccountIcon className={classes.white} fontSize=\"large\" onClick={() => history.push(pathTo)} />\r\n            Admin\r\n          </Typography>\r\n        </IconButton>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default AdminTab\r\n","import React, { useState } from \"react\";\r\nimport { Menu } from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport NavbarTab from \"./NavbarTab\";\r\nimport AdminTab from \"./AdminTab\";\r\nimport { useStyles } from \"../../styles/styles\";\r\n\r\nconst TogglableMenu = ({ admin, user }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MenuIcon\r\n        aria-controls=\"simple-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      />\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem>\r\n          <NavbarTab className={classes.blue} name={\"Frontpage\"} pathTo={\"/\"} />\r\n        </MenuItem>\r\n        <MenuItem>\r\n          <NavbarTab\r\n            className={classes.blue}\r\n            name={\"Products\"}\r\n            pathTo={\"/products\"}\r\n          />\r\n        </MenuItem>\r\n        {admin && (\r\n          <MenuItem>\r\n            <AdminTab className={classes.blue} pathTo={\"/admin\"} />\r\n          </MenuItem>\r\n        )}\r\n        {!user && (\r\n          <MenuItem>\r\n            <NavbarTab\r\n              className={classes.blue}\r\n              name={\"Sign up\"}\r\n              pathTo={\"/signup\"}\r\n            />\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TogglableMenu;\r\n","import React from \"react\";\r\nimport NavbarTab from \"./NavbarTab\";\r\nimport AdminTab from \"./AdminTab\";\r\n\r\nconst NormalMenu = ({ admin, user }) => {\r\n  return (\r\n    <>\r\n      <NavbarTab name={\"Frontpage\"} pathTo={\"/\"} />\r\n      <NavbarTab name={\"Products\"} pathTo={\"/products\"} />\r\n\r\n      {admin && <AdminTab pathTo={\"/admin\"} />}\r\n      {!user && <NavbarTab name={\"Sign up\"} pathTo={\"/signup\"} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NormalMenu;\r\n","import React from \"react\";\r\nimport {\r\n  Typography,\r\n  AppBar,\r\n  Toolbar,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport LogInTab from \"./LogInTab\";\r\nimport ShoppingCartTab from \"./ShoppingCartTab\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport TogglableMenu from \"./TogglableMenu\";\r\nimport NormalMenu from \"./NormalMenu\";\r\nimport {useStyles} from \"../../styles/styles\"\r\n\r\nconst Navbar = () => {\r\n  const { user } = useUsers();\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const isMatch = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  let admin;\r\n\r\n  if (user) {\r\n    user.isAdmin ? (admin = true) : (admin = false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppBar className={classes.appBar} position=\"sticky\">\r\n        <Toolbar className={classes.toolbar} >\r\n          {isMatch ? (\r\n            <TogglableMenu admin={admin} user={user}/>\r\n          ) : (\r\n            <NormalMenu admin={admin} user={user} />\r\n          )}\r\n\r\n          <Typography className={classes.header} variant=\"h4\">SHOP</Typography>\r\n          <ShoppingCartTab />\r\n          <LogInTab />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import axios from \"axios\";\r\n\r\nconst url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api/ratings\" : \"/api/ratings\"\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(url);\r\n  return res.data;\r\n};\r\n\r\nconst addRating = async (userId, productId, starRating) => {\r\n  const res = await axios.post(url, { userId, productId, starRating });\r\n  return res.data;\r\n};\r\n\r\nconst ratingService = { getAll, addRating };\r\n\r\nexport default ratingService;\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport ratingService from \"../../services/ratings\";\r\n\r\nexport const RatingsContext = React.createContext();\r\n\r\nexport const useRatings = () => {\r\n  return useContext(RatingsContext);\r\n};\r\n\r\nconst ratingReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ratings\":\r\n      return action.payload;\r\n    case \"add\":\r\n      return [...state, action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst RatingReducer = ({ children }) => {\r\n  const [ratings, dispatchRatings] = useReducer(ratingReducer, null);\r\n\r\n  useEffect(() => {\r\n    ratingService\r\n      .getAll()\r\n      .then((x) => dispatchRatings({ type: \"ratings\", payload: x }));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <RatingsContext.Provider\r\n        value={{ ratings: ratings, dispatchRatings: dispatchRatings }}\r\n      >\r\n        {children}\r\n      </RatingsContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RatingReducer;\r\n","import React, { useContext, useReducer } from \"react\";\r\n\r\nexport const NotificationContext = React.createContext();\r\n\r\nexport const useNotification = () => {\r\n  return useContext(NotificationContext);\r\n};\r\n\r\nconst messageType = {\r\n  message: null,\r\n  isError: true,\r\n};\r\n\r\nconst notificationReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"message\":\r\n      return action.message;\r\n    case \"clear\":\r\n      return messageType;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst NotificationReducer = ({ children }) => {\r\n  const [notification, dispatchNotification] = useReducer(\r\n    notificationReducer,\r\n    messageType\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <NotificationContext.Provider\r\n        value={{\r\n          notification: notification,\r\n          dispatchNotification: dispatchNotification,\r\n        }}\r\n      >\r\n        {children}\r\n      </NotificationContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationReducer;\r\n","import React, { useContext, useReducer } from \"react\";\r\n\r\nexport const CartContext = React.createContext();\r\n\r\nexport const useCart = () => {\r\n  return useContext(CartContext);\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"getAll\":\r\n      return action.payload;\r\n    case \"removeAll\":\r\n      return []\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst CartReducer = ({ children }) => {\r\n  const [cartProducts, dispatchCart] = useReducer(cartReducer, null);\r\n\r\n  return (\r\n    <>\r\n      <CartContext.Provider\r\n        value={{ cartProducts: cartProducts, dispatchCart: dispatchCart }}\r\n      >\r\n        {children}\r\n      </CartContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartReducer;\r\n","import React from \"react\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport orderService from \"../services/orders\";\r\nimport { useOrders } from \"./reducers/OrdersReducer\";\r\nimport { useUsers } from \"./reducers/UserReducer\";\r\nimport { useCart } from \"./reducers/CartReducer\";\r\n\r\nconst AddToCartButton = ({ productId, buttonText }) => {\r\n  const { user } = useUsers();\r\n  const orders = useOrders();\r\n  const userCart = useCart();\r\n\r\n  const addProductToCart = async () => {\r\n    if (user) {\r\n      const createOrder = await orderService.addToCart(productId, user.id);\r\n      orders.dispatchOrders({ type: \"add\", payload: createOrder });\r\n      const userOrders = await orderService.getProductCount(user.id);\r\n      userCart.dispatchCart({ type: \"getAll\", payload: userOrders });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CardActions>\r\n        <Button\r\n          startIcon={<AddIcon />}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          onClick={addProductToCart}\r\n        >\r\n          {buttonText}\r\n        </Button>\r\n      </CardActions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddToCartButton;\r\n","import React from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { useStyles } from \"../../styles/styles\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport { useRatings } from \"../reducers/RatingsReducer\";\r\nimport { useNotification } from \"../reducers/NotificationReducer\";\r\nimport ratingService from \"../../services/ratings\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AddToCartButton from \"../AddToCartButton\";\r\n\r\nconst ProductView = ({ product }) => {\r\n  const classes = useStyles();\r\n  const { user } = useUsers();\r\n  const ratings = useRatings();\r\n  const history = useHistory();\r\n  const message = useNotification();\r\n\r\n  const notificationMessage = (msg, isError) => {\r\n    message.dispatchNotification({\r\n      type: \"message\",\r\n      message: { message: msg, isError: isError },\r\n    });\r\n    setTimeout(() => {\r\n      message.dispatchNotification({ type: \"clear\" });\r\n    }, 5000);\r\n  };\r\n\r\n  if (!ratings.ratings) return null;\r\n  let rating;\r\n\r\n  if (ratings.ratings.find((x) => x.productId === product.id)) {\r\n    const filteredRatings = ratings.ratings.filter(\r\n      (x) => x.productId === product.id\r\n    );\r\n    const average = filteredRatings.map((x) => (x = x.starRating));\r\n    rating = average.reduce((a, b) => a + b) / average.length;\r\n  }\r\n\r\n  const submitRating = async (starRating) => {\r\n    if (!user) {\r\n      return notificationMessage(\"Please log in first to rate\", true);\r\n    }\r\n    if (\r\n      ratings.ratings.find(\r\n        (x) => x.userId === user.id && x.productId === product.id\r\n      )\r\n    ) {\r\n      return notificationMessage(\"You have already rated this product!\", true);\r\n    }\r\n    const newRating = await ratingService.addRating(\r\n      user.id,\r\n      product.id,\r\n      starRating\r\n    );\r\n\r\n    ratings.dispatchRatings({ type: \"add\", payload: newRating });\r\n    notificationMessage(\"Product rated succesfully!\", false);\r\n  };\r\n\r\n  return (\r\n    <Grid className={classes.productCard}>\r\n      <Card variant=\"outlined\">\r\n        <CardContent>\r\n          <Typography gutterBottom>Product:</Typography>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            onClick={() => history.push(`products/${product.id}`)}\r\n          >\r\n            {`${product.name}`}\r\n          </Button>\r\n\r\n          <Typography>Price:</Typography>\r\n          <Typography>{`${product.price} €`}</Typography>\r\n\r\n          <Rating\r\n            value={rating || 0}\r\n            name={`${product.id}`}\r\n            onChange={(event, newValue) => {\r\n              submitRating(newValue);\r\n            }}\r\n          ></Rating>\r\n        </CardContent>\r\n        <CardActions>\r\n          <AddToCartButton productId={product.id} buttonText={\"Add to cart\"} />\r\n        </CardActions>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ProductView;\r\n","import axios from \"axios\";\r\n\r\nconst url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api/products\" : \"/api/products\"\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(url);\r\n  return res.data;\r\n};\r\n\r\nconst productService = { getAll };\r\n\r\nexport default productService;\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport productService from \"../../services/products\";\r\n\r\nexport const ProductsContext = React.createContext();\r\n\r\nexport const useProducts = () => {\r\n  return useContext(ProductsContext);\r\n};\r\n\r\nconst productReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"products\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst ProductsReducer = ({ children }) => {\r\n  const [products, dispatchProducts] = useReducer(productReducer, null);\r\n\r\n  useEffect(() => {\r\n    productService\r\n      .getAll()\r\n      .then((x) => dispatchProducts({ type: \"products\", payload: x }));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ProductsContext.Provider\r\n        value={{ products: products, productsDispatch: dispatchProducts }}\r\n      >\r\n        {children}\r\n      </ProductsContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductsReducer;\r\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst ProductFilter = ({ options, handleChange, findValue, category }) => {\r\n  return (\r\n    <div style={{ width: \"30%\" }}>\r\n      <Typography component={\"div\"}>\r\n        Filter by product category:\r\n        <Select options={options} onChange={handleChange} value={findValue} />\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductFilter;\r\n","import React from \"react\";\r\nimport { TextField, Typography } from \"@material-ui/core\";\r\nimport { useStyles } from \"../../styles/styles\";\r\n\r\nconst ProductSearch = ({ setName }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div style={{ width: \"30%\" }}>\r\n      <Typography component={\"div\"}>\r\n        Search:\r\n        <TextField\r\n          className={classes.productSearch}\r\n          variant=\"outlined\"\r\n          onChange={(e) => setName(e.target.value)}\r\n          label=\"Search product by name\"\r\n        />\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductSearch;\r\n","import React, { useState } from \"react\";\r\nimport ProductView from \"./ProductView\";\r\nimport { useProducts } from \"../reducers/ProductsReducer\";\r\nimport { useStyles } from \"../../styles/styles\";\r\nimport ProductFilter from \"./ProductFilter\";\r\nimport ProductSearch from \"./ProductSearch\";\r\n\r\nconst Products = () => {\r\n  const [category, setCategory] = useState(\"All\");\r\n  const [name, setName] = useState(\"\");\r\n  const classes = useStyles();\r\n  const { products } = useProducts();\r\n\r\n  if (!products) return null;\r\n\r\n  const categoryArray = products.map(\r\n    (x) => (x = { value: x.category, label: x.category })\r\n  );\r\n  const newArray = [...categoryArray, { value: \"All\", label: \"All\" }];\r\n  const uniqueArray = (a) =>\r\n    [...new Set(a.map((o) => JSON.stringify(o)))].map((s) => JSON.parse(s));\r\n\r\n  const options = uniqueArray(newArray);\r\n\r\n  const handleChange = (e) => {\r\n    setCategory(e.value);\r\n  };\r\n\r\n  const findValue = () => {\r\n    return options.find((obj) => obj.value === category);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.productsPage}>\r\n        <div className={classes.products}>\r\n          <ProductFilter\r\n            options={options}\r\n            handleChange={handleChange}\r\n            findValue={findValue}\r\n            category={category}\r\n          />\r\n          <ProductSearch setName={setName} />\r\n        </div>\r\n        <div className={classes.products}>\r\n          {products\r\n            .filter((z) => z.name.toLowerCase().includes(name.toLowerCase()))\r\n            .filter((y) => (category === \"All\" ? y : y.category === category))\r\n            .map((x) => (\r\n              <ProductView key={x.id} product={x} />\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import axios from \"axios\";\r\n\r\nconst url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api/users\" : \"/api/users\"\r\n\r\nconst signUp = async (user) => {\r\n  const res = await axios.post(url, user);\r\n  return res.data;\r\n};\r\n\r\nconst logIn = async (user) => {\r\n  const res = await axios.post(`${url}/login`, user);\r\n  return res.data;\r\n};\r\n\r\nconst userService = { signUp, logIn };\r\n\r\nexport default userService;\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { useField } from \"formik\";\r\n\r\nconst MyTextInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <TextField\r\n        id=\"outlined-basic\"\r\n        label={label}\r\n        variant=\"outlined\"\r\n        className=\"text-input\"\r\n        {...field}\r\n        {...props}\r\n      />\r\n      {meta.touched && meta.error ? (\r\n        <div className=\"error\">{meta.error}</div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyTextInput;\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport userService from \"../services/users\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"./MyTextInput\";\r\nimport { useStyles } from \"../styles/styles\";\r\nimport { useUsers } from \"./reducers/UserReducer\";\r\nimport { useNotification } from \"./reducers/NotificationReducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SignUp = () => {\r\n  const user = useUsers();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const message = useNotification();\r\n  const theme = useTheme();\r\n  const isMatch = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const notificationMessage = (msg, isError) => {\r\n    message.dispatchNotification({\r\n      type: \"message\",\r\n      message: { message: msg, isError: isError },\r\n    });\r\n    setTimeout(() => {\r\n      message.dispatchNotification({ type: \"clear\" });\r\n    }, 5000);\r\n  };\r\n\r\n  const initialValues = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string()\r\n      .max(15, \"Must be 15 characters or less\")\r\n      .required(\"Required\"),\r\n    email: Yup.string().email(\"Invalid email addresss`\").required(\"Required\"),\r\n    password: Yup.string()\r\n      .min(5, \"Password must be atleast 5 characters long\")\r\n      .required(\"Required\"),\r\n  });\r\n\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      await userService.signUp(values);\r\n      const loggedInUser = await userService.logIn({\r\n        name: values.name,\r\n        password: values.password,\r\n      });\r\n      window.localStorage.setItem(\"loggedUser\", JSON.stringify(loggedInUser));\r\n      user.dispatchUser({ type: \"logIn\", payload: loggedInUser });\r\n      history.push(\"/\");\r\n      notificationMessage(\"Succesfully signed up!\", false);\r\n    } catch (e) {\r\n      console.error(e);\r\n      notificationMessage(\"Invalid inputs!\", true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className={isMatch ? classes.cardContent4 : classes.cardContent3}\r\n      variant=\"outlined\"\r\n    >\r\n      <CardContent className={classes.cardContent}>\r\n        <Formik\r\n          initialValues={initialValues}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmit}\r\n        >\r\n          <Form className={classes.form} noValidate autoComplete=\"off\">\r\n            <MyTextInput\r\n              style={{ margin: \"5%\" }}\r\n              id=\"nameInput\"\r\n              label=\"Name\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"Jane\"\r\n            />\r\n\r\n            <MyTextInput\r\n              style={{ margin: \"5%\" }}\r\n              id=\"emailInput\"\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"jane@formik.com\"\r\n            />\r\n\r\n            <MyTextInput\r\n              style={{ margin: \"5%\" }}\r\n              id=\"passwordInput\"\r\n              label=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n            />\r\n\r\n            <Button\r\n              style={{ margin: \"5%\" }}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n            >\r\n              Sign up\r\n            </Button>\r\n          </Form>\r\n        </Formik>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\n\r\nimport userService from \"../services/users\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"./MyTextInput\";\r\nimport { useUsers } from \"./reducers/UserReducer\";\r\nimport { useNotification } from \"./reducers/NotificationReducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useStyles } from \"../styles/styles\";\r\n\r\nconst Login = () => {\r\n  const user = useUsers();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const message = useNotification();\r\n  const theme = useTheme();\r\n  const isMatch = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const notificationMessage = (msg, isError) => {\r\n    message.dispatchNotification({\r\n      type: \"message\",\r\n      message: { message: msg, isError: isError },\r\n    });\r\n    setTimeout(() => {\r\n      message.dispatchNotification({ type: \"clear\" });\r\n    }, 5000);\r\n  };\r\n\r\n  const initialValues = {\r\n    name: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"Required\"),\r\n    password: Yup.string().required(\"Required\"),\r\n  });\r\n\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      const timeNow = new Date();\r\n      const item = await userService.logIn(values);\r\n      const loggedInUser = {\r\n        ...item,\r\n        expiry: timeNow.getTime() + Math.pow(3200, 2),\r\n      }; // expiry time is about 2h and 50min\r\n      window.localStorage.setItem(\"loggedUser\", JSON.stringify(loggedInUser));\r\n      user.dispatchUser({ type: \"logIn\", payload: loggedInUser });\r\n      history.push(\"/\");\r\n      notificationMessage(\r\n        `Succesfully logged in as ${loggedInUser.name}!`,\r\n        false\r\n      );\r\n    } catch (e) {\r\n      console.error(e);\r\n      notificationMessage(\"Wrong name or password!\", true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className={isMatch ? classes.cardContent4 : classes.cardContent3}\r\n      variant=\"outlined\"\r\n    >\r\n      <CardContent>\r\n        <Formik\r\n          initialValues={initialValues}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmit}\r\n        >\r\n          <Form className={classes.form} noValidate autoComplete=\"off\">\r\n            <MyTextInput\r\n              style={{ margin: \"5%\" }}\r\n              id=\"nameInput\"\r\n              label=\"name\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"jane@formik.com\"\r\n            />\r\n            <MyTextInput\r\n              style={{ margin: \"5%\" }}\r\n              id=\"passwordInput\"\r\n              label=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n            />\r\n\r\n            <Button\r\n              style={{ margin: \"5%\" }}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n            >\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n        </Formik>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Card, CardContent } from \"@material-ui/core\";\r\nimport { useStyles } from \"../styles/styles\";\r\n\r\nconst Frontpage = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Card className={classes.card1}>\r\n        <CardContent>\r\n          <p style={{ fontWeight: \"bold\" }}>\r\n            Welcome to my ecommerce test shop!\r\n          </p>\r\n          <p>\r\n            Contrary to popular belief, Lorem Ipsum is not simply random text.\r\n            It has roots in a piece of classical Latin literature from 45 BC,\r\n            making it over 2000 years old. Richard McClintock, a Latin professor\r\n            at Hampden-Sydney College in Virginia, looked up one of the more\r\n            obscure Latin words, consectetur, from a Lorem Ipsum passage, and\r\n            going through the cites of the word in classical literature,\r\n            discovered the undoubtable source. Lorem Ipsum comes from sections\r\n            1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes\r\n            of Good and Evil) by Cicero, written in 45 BC. This book is a\r\n            treatise on the theory of ethics, very popular during the\r\n            Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit\r\n            amet..\", comes from a line in section 1.10.32.\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Frontpage;\r\n","import axios from \"axios\";\r\n\r\nconst url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api/reviews\" : \"/api/reviews\"\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(url);\r\n  return res.data;\r\n};\r\n\r\nconst addReview = async (userId, productId, reviewText) => {\r\n  const res = await axios.post(url, { userId, productId, reviewText });\r\n  return res.data;\r\n};\r\n\r\nconst reviewService = { getAll, addReview };\r\n\r\nexport default reviewService;\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport reviewService from \"../../services/reviews\";\r\n\r\nexport const ReviewsContext = React.createContext();\r\n\r\nexport const useReviews = () => {\r\n  return useContext(ReviewsContext);\r\n};\r\n\r\nconst reviewReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"reviews\":\r\n      return action.payload;\r\n    case \"add\":\r\n      return [...state, action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst ReviewsReducer = ({ children }) => {\r\n  const [reviews, dispatchReviews] = useReducer(reviewReducer, null);\r\n\r\n  useEffect(() => {\r\n    reviewService\r\n      .getAll()\r\n      .then((x) => dispatchReviews({ type: \"reviews\", payload: x }));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ReviewsContext.Provider\r\n        value={{ reviews: reviews, dispatchReviews: dispatchReviews }}\r\n      >\r\n        {children}\r\n      </ReviewsContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReviewsReducer;\r\n","import axios from \"axios\";\r\n\r\nconst url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api/likes\" : \"/api/likes\"\r\n\r\nconsole.log(process.env.NODE_ENV)\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(url);\r\n  return res.data;\r\n};\r\n\r\nconst addLike = async (userId, reviewId) => {\r\n  const res = await axios.post(url, { userId, reviewId });\r\n  return res.data;\r\n};\r\n\r\nconst removeLike = async (likeId) => {\r\n  await axios.delete(`${url}/${likeId}`);\r\n};\r\n\r\nconst likeService = { getAll, addLike, removeLike };\r\n\r\nexport default likeService;\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport likeService from \"../../services/likes\";\r\n\r\nexport const LikesContext = React.createContext();\r\n\r\nexport const useLikes = () => {\r\n  return useContext(LikesContext);\r\n};\r\n\r\nconst likeReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"getAll\":\r\n      return action.payload;\r\n    case \"add\":\r\n      return [...state, action.payload];\r\n    case \"remove\":\r\n      return [...state.filter((x) => x !== action.payload)];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst LikesReducer = ({ children }) => {\r\n  const [likes, dispatchLikes] = useReducer(likeReducer, null);\r\n\r\n  useEffect(() => {\r\n    likeService\r\n      .getAll()\r\n      .then((x) => dispatchLikes({ type: \"getAll\", payload: x }));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <LikesContext.Provider\r\n        value={{ likes: likes, dispatchLikes: dispatchLikes }}\r\n      >\r\n        {children}\r\n      </LikesContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LikesReducer;\r\n","import React from \"react\";\r\nimport NotificationReducer from \"./NotificationReducer\";\r\nimport ProductsReducer from \"./ProductsReducer\";\r\nimport UserReducer from \"./UserReducer\";\r\nimport OrdersReducer from './OrdersReducer'\r\nimport CartReducer from './CartReducer'\r\nimport ReviewsReducer from './ReviewsReducer'\r\nimport RatingReducer from './RatingsReducer'\r\nimport LikesReducer from './LikesReducer'\r\n\r\n\r\nconst AppDataContext = ({ children }) => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <UserReducer>\r\n        <ProductsReducer>\r\n          <NotificationReducer>\r\n            <OrdersReducer>\r\n              <CartReducer>\r\n                <ReviewsReducer>\r\n                  <RatingReducer>\r\n                    <LikesReducer>\r\n                      {children}\r\n                    </LikesReducer>\r\n                  </RatingReducer>\r\n                </ReviewsReducer>\r\n              </CartReducer>\r\n            </OrdersReducer>\r\n          </NotificationReducer>\r\n        </ProductsReducer>\r\n      </UserReducer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppDataContext;\r\n","import React from \"react\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useNotification } from \"./reducers/NotificationReducer\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nconst Notification = () => {\r\n  const message = useNotification();\r\n\r\n  if (message.notification.isError) {\r\n    return (\r\n      <>\r\n        {message.notification.message && (\r\n          <Snackbar open={true}>\r\n            <Alert variant=\"filled\" severity=\"error\">\r\n              {message.notification.message}\r\n            </Alert>\r\n          </Snackbar>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {message.notification.message && (\r\n        <Snackbar open={true}>\r\n          <Alert variant=\"filled\" severity=\"success\">\r\n            {message.notification.message}\r\n          </Alert>\r\n        </Snackbar>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport { useStyles } from \"../../styles/styles\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport { useOrders } from \"../reducers/OrdersReducer\";\r\nimport { useCart } from \"../reducers/CartReducer\";\r\nimport orderService from \"../../services/orders\";\r\nimport AddToCartButton from \"../AddToCartButton\";\r\n\r\nconst CartProductView = ({ product }) => {\r\n  const classes = useStyles();\r\n  const { user } = useUsers();\r\n  const orders = useOrders();\r\n  const userCart = useCart();\r\n\r\n  if (!product) return null;\r\n\r\n  const removeProductFromCart = async () => {\r\n    const deleteObj = orders.orders.find(\r\n      (x) => x.userId === user.id && x.productId === product.productId\r\n    );\r\n    const id = deleteObj.id;\r\n    await orderService.removeProductFromCart(id);\r\n    orders.dispatchOrders({ type: \"delete\", deleteId: id });\r\n    const userOrders = await orderService.getProductCount(user.id);\r\n    userCart.dispatchCart({ type: \"getAll\", payload: userOrders });\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.cardContent} variant=\"outlined\">\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography className={classes.text1}>\r\n          Product:{\" \"}\r\n          <Box\r\n            component=\"span\"\r\n            fontWeight=\"fontWeightBold\"\r\n          >{`${product.Product.name}`}</Box>\r\n        </Typography>\r\n        <Typography className={classes.text1}>\r\n          Price:{\" \"}\r\n          <Box\r\n            component=\"span\"\r\n            fontWeight=\"fontWeightBold\"\r\n          >{`${product.Product.price} € `}</Box>\r\n        </Typography>\r\n        <Typography className={classes.text1}>\r\n          Total price:{\" \"}\r\n          <Box component=\"span\" fontWeight=\"fontWeightBold\">{`${\r\n            Number(product.productCount) * product.Product.price\r\n          } € `}</Box>\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <AddToCartButton productId={product.productId} buttonText={\"Add\"} />\r\n        <Typography\r\n          variant=\"h6\"\r\n          className={classes.green}\r\n        >{`${product.productCount} pcs.`}</Typography>\r\n        <Button\r\n          startIcon={<RemoveIcon />}\r\n          onClick={removeProductFromCart}\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n        >\r\n          Remove\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CartProductView;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { useOrders } from \"../reducers/OrdersReducer\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport orderService from \"../../services/orders\";\r\nimport { useCart } from \"../reducers/CartReducer\";\r\nimport { useNotification } from \"../reducers/NotificationReducer\";\r\n\r\nconst CheckoutDialog = () => {\r\n  const { user } = useUsers();\r\n  const order = useOrders();\r\n  const userCart = useCart();\r\n  const message = useNotification();\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  if (!user) return null;\r\n  if (!order) return null;\r\n\r\n  const notificationMessage = (msg, isError) => {\r\n    message.dispatchNotification({\r\n      type: \"message\",\r\n      message: { message: msg, isError: isError },\r\n    });\r\n    setTimeout(() => {\r\n      message.dispatchNotification({ type: \"clear\" });\r\n    }, 5000);\r\n  };\r\n\r\n  const deleteAll = async () => {\r\n    setOpen(false);\r\n    const all = order.orders\r\n      .filter((x) => x.userId === user.id)\r\n      .map((x) => x.id);\r\n    await orderService.removeAllFromCart(all);\r\n    order.dispatchOrders({ type: \"deleteAll\", payload: all });\r\n    const allOrders = await orderService.getAll();\r\n    order.dispatchOrders({ type: \"getAll\", payload: allOrders });\r\n    userCart.dispatchCart({ type: \"removeAll\" });\r\n    notificationMessage(`Items purchased succesfully!`, false);\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <Button variant=\"contained\" onClick={handleClickOpen}>\r\n        Checkout\r\n      </Button>\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"responsive-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"responsive-dialog-title\">{\"Continue?\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Purchase all items from shopping cart or cancel and continue\r\n            shopping?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={deleteAll} color=\"primary\" autoFocus>\r\n            Purchase\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutDialog;\r\n","import React, { useEffect } from \"react\";\r\nimport { Box, Typography, Card, CardContent } from \"@material-ui/core\";\r\nimport CartProductView from \"./CartProductView\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport { useCart } from \"../reducers/CartReducer\";\r\nimport orderService from \"../../services/orders\";\r\nimport { useStyles } from \"../../styles/styles\";\r\nimport CheckoutDialog from \"./CheckoutDialog\";\r\n\r\nconst ShoppingCart = () => {\r\n  const userCart = useCart();\r\n  const { user } = useUsers();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const fetchCart = async () => {\r\n      const joku = await orderService.getProductCount(user.id);\r\n      userCart.dispatchCart({ type: \"getAll\", payload: joku });\r\n    };\r\n\r\n    if (user) {\r\n      fetchCart();\r\n    }\r\n  }, [user]);\r\n\r\n  if (!userCart.cartProducts) return null;\r\n\r\n  const sumAllFromCart = userCart.cartProducts.reduce(\r\n    (a, b) => a + Number(b.productCount) * b.Product.price,\r\n    0\r\n  );\r\n\r\n  const sumAllItemsText = () => {\r\n    return sumAllFromCart > 0\r\n      ? `Total price: ${sumAllFromCart}`\r\n      : `Shopping cart is empty`;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.productsPage}>\r\n      <Box className={classes.products}>\r\n        {userCart.cartProducts.map((x) => (\r\n          <CartProductView key={x.productId} product={x} />\r\n        ))}\r\n      </Box>\r\n      <Card className={classes.cardContent} variant=\"outlined\">\r\n        <CardContent className={classes.cardContent2}>\r\n          <Typography variant=\"h6\">{sumAllItemsText()}</Typography>\r\n        </CardContent>\r\n      </Card>\r\n      {sumAllFromCart > 0 && <CheckoutDialog />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;\r\n","import React from \"react\";\r\nimport { Typography, Box } from \"@material-ui/core\";\r\nimport { useProducts } from \"../reducers/ProductsReducer\";\r\nimport { useReviews } from \"../reducers/ReviewsReducer\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst ProductDescription = () => {\r\n  const { products } = useProducts();\r\n  const reviews = useReviews();\r\n  const { id } = useParams();\r\n\r\n  if (!products) return null;\r\n  if (!reviews.reviews) return null;\r\n\r\n  const product = products.find((x) => x.id === Number(id));\r\n\r\n  return (\r\n    <div>\r\n      <Typography\r\n        component={\"div\"}\r\n        style={{ margin: \"1%\", textDecoration: \"underline\" }}\r\n      >\r\n        Product:{\" \"}\r\n        <Box\r\n          component=\"span\"\r\n          fontWeight=\"fontWeightBold\"\r\n        >{`${product.name}`}</Box>\r\n      </Typography>\r\n\r\n      <Typography component={\"div\"} style={{ margin: \"1%\" }}>\r\n        <Box fontStyle=\"italic\">\r\n          Contrary to popular belief, Lorem Ipsum is not simply random text. It\r\n          has roots in a piece of classical Latin literature from 45 BC, making\r\n          it over 2000 years old. Richard McClintock, a Latin professor at\r\n          Hampden-Sydney College in Virginia, looked up one of the more obscure\r\n        </Box>\r\n      </Typography>\r\n      <span> </span>\r\n      <Typography\r\n        component={\"div\"}\r\n        style={{ margin: \"1%\", textDecoration: \"underline\" }}\r\n      >\r\n        Price:{\" \"}\r\n        <Box\r\n          component=\"span\"\r\n          fontWeight=\"fontWeightBold\"\r\n        >{`${product.price} €`}</Box>\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDescription;\r\n","import React from \"react\";\r\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\r\nimport ThumbUpAltOutlinedIcon from \"@material-ui/icons/ThumbUpAltOutlined\";\r\nimport { useLikes } from \"../reducers/LikesReducer\";\r\nimport likeService from \"../../services/likes\";\r\nimport { useNotification } from \"../reducers/NotificationReducer\";\r\n\r\nconst ProductListItem = ({ review }) => {\r\n  const likes = useLikes();\r\n  const { user } = useUsers();\r\n  const message = useNotification();\r\n\r\n  if (!review.User) return null;\r\n  if (!likes.likes) return null;\r\n\r\n  let findIfReviewed;\r\n  if (user)\r\n    findIfReviewed = likes.likes.find(\r\n      (x) => x.userId === user.id && x.reviewId === review.id\r\n    );\r\n  const countLikes = likes.likes.filter((x) => x.reviewId === review.id).length;\r\n\r\n  const notificationMessage = (msg, isError) => {\r\n    message.dispatchNotification({\r\n      type: \"message\",\r\n      message: { message: msg, isError: isError },\r\n    });\r\n    setTimeout(() => {\r\n      message.dispatchNotification({ type: \"clear\" });\r\n    }, 5000);\r\n  };\r\n\r\n  const likeReview = async () => {\r\n    if (!user) return notificationMessage(\"Please log in first to vote\", true);\r\n    if (review.userId === user.id) {\r\n      return notificationMessage(\"You cannot vote for your own review\", true);\r\n    }\r\n    const like = await likeService.addLike(user.id, review.id);\r\n    likes.dispatchLikes({ type: \"add\", payload: like });\r\n  };\r\n\r\n  const dislikeReview = async () => {\r\n    if (!user) return notificationMessage(\"Please log in first to vote\", true);\r\n    if (review.userId === user.id) {\r\n      notificationMessage(\"You cannot vote for your own review\", true);\r\n    }\r\n    const like2 = likes.likes.find(\r\n      (x) => x.userId === user.id && x.reviewId === review.id\r\n    );\r\n    await likeService.removeLike(like2.id);\r\n    likes.dispatchLikes({ type: \"remove\", payload: like2 });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ListItem key={review.id}>\r\n        <ListItemAvatar>\r\n          <Avatar alt=\"Remy Sharp\" />\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          primary={<Box fontWeight=\"fontWeightBold\">{review.User.name}</Box>}\r\n          secondary={<React.Fragment>{review.reviewText}</React.Fragment>}\r\n        />\r\n        {findIfReviewed ? (\r\n          <IconButton onClick={dislikeReview}>\r\n            <ThumbUpIcon color=\"primary\" />\r\n          </IconButton>\r\n        ) : (\r\n          <IconButton onClick={likeReview}>\r\n            <ThumbUpAltOutlinedIcon color=\"primary\" />\r\n          </IconButton>\r\n        )}\r\n\r\n        <Typography component={\"div\"} style={{ color: \"blue\" }}>\r\n          {countLikes}\r\n        </Typography>\r\n      </ListItem>\r\n      <Divider variant=\"inset\" component=\"li\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductListItem;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport reviewService from \"../../services/reviews\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport { useProducts } from \"../reducers/ProductsReducer\";\r\nimport { useReviews } from \"../reducers/ReviewsReducer\";\r\nimport { useNotification } from \"../reducers/NotificationReducer\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst ProductReview = () => {\r\n  const [text, setText] = useState(\"\");\r\n  const { products } = useProducts();\r\n  const reviews = useReviews();\r\n  const { user } = useUsers();\r\n  const { id } = useParams();\r\n  const message = useNotification();\r\n\r\n  if (!products) return null;\r\n  if (!reviews.reviews) return null;\r\n\r\n  const product = products.find((x) => x.id === Number(id));\r\n\r\n  const notificationMessage = (msg, isError) => {\r\n    message.dispatchNotification({\r\n      type: \"message\",\r\n      message: { message: msg, isError: isError },\r\n    });\r\n    setTimeout(() => {\r\n      message.dispatchNotification({ type: \"clear\" });\r\n    }, 5000);\r\n  };\r\n\r\n  const submitReview = async () => {\r\n    if (\r\n      reviews.reviews.find(\r\n        (x) => x.userId === user.id && x.productId === product.id\r\n      )\r\n    ) {\r\n      return notificationMessage(\r\n        \"You have already reviewed this product!\",\r\n        true\r\n      );\r\n    }\r\n    const review = await reviewService.addReview(user.id, product.id, text);\r\n    reviews.dispatchReviews({ type: \"add\", payload: review });\r\n    const allReviews = await reviewService.getAll();\r\n    reviews.dispatchReviews({ type: \"reviews\", payload: allReviews });\r\n    notificationMessage(\"New review added!\", false);\r\n    setText(\"\");\r\n  };\r\n  return (\r\n    <div>\r\n      <Typography\r\n        component={\"div\"}\r\n        style={{ margin: \"1%\", textDecoration: \"underline\" }}\r\n      >\r\n        Add review:\r\n      </Typography>\r\n      <TextField\r\n        style={{ width: \"100%\" }}\r\n        onChange={(e) => setText(e.target.value)}\r\n        value={text}\r\n        multiline\r\n      ></TextField>\r\n      <Button\r\n        color=\"primary\"\r\n        style={{ marginTop: \"2%\" }}\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={submitReview}\r\n      >\r\n        Submit Review\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductReview;\r\n","import React from \"react\";\r\nimport { useStyles } from \"../../styles/styles\";\r\nimport { useProducts } from \"../reducers/ProductsReducer\";\r\nimport { useReviews } from \"../reducers/ReviewsReducer\";\r\nimport { useLikes } from \"../reducers/LikesReducer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { List, Card, CardContent, Typography } from \"@material-ui/core\";\r\nimport ProductDescription from \"./ProductDescription\";\r\nimport ProductListItem from \"./ProductListItem\";\r\nimport ProductReview from \"./ProductReview\";\r\nimport AddToCartButton from \"../AddToCartButton\";\r\n\r\nconst ProductDetailView = () => {\r\n  const classes = useStyles();\r\n  const { products } = useProducts();\r\n  const reviews = useReviews();\r\n  const { id } = useParams();\r\n  const { likes } = useLikes();\r\n\r\n  if (!products) return null;\r\n  if (!likes) return null;\r\n\r\n  if (!reviews.reviews) return null;\r\n\r\n  const reviewsWithLikesCount = reviews.reviews.map(\r\n    (x) =>\r\n      (x = { ...x, likes: likes.filter((y) => y.reviewId === x.id).length })\r\n  );\r\n  const filteredAndSortedReviews = reviewsWithLikesCount\r\n    .filter((x) => x.productId === Number(id))\r\n    .sort((a, b) => b.likes - a.likes);\r\n\r\n  return (\r\n    <div>\r\n      <Card className={classes.card1}>\r\n        <CardContent>\r\n          <ProductDescription />\r\n          <AddToCartButton productId={id} buttonText={\"Add to cart\"} />\r\n        </CardContent>\r\n      </Card>\r\n      <Card className={classes.card1}>\r\n        <CardContent>\r\n          <ProductReview />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Typography\r\n        component={\"div\"}\r\n        style={{ margin: \"1%\", fontWeight: \"bold\" }}\r\n      >\r\n        REVIEWS:\r\n      </Typography>\r\n\r\n      <div>\r\n        <Card className={classes.card1}>\r\n          <CardContent>\r\n            <List>\r\n              {filteredAndSortedReviews.map((x) => (\r\n                <ProductListItem key={x.id} review={x} />\r\n              ))}\r\n            </List>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetailView;\r\n","import React from 'react'\r\nimport {List, Datagrid, TextField, DateField, EditButton, DeleteButton} from 'react-admin'\r\n\r\nconst ProductsList = (props) => {\r\n    return (\r\n        <List {...props} >\r\n            <Datagrid>\r\n                <TextField source='id' />\r\n                <TextField source='name' />\r\n                <TextField source='price' />\r\n                <TextField source='count' />\r\n                <TextField source='category' />\r\n                <DateField source='createdAt' />\r\n                <DateField source='updatedAt' />\r\n                <EditButton basePath='' />\r\n                <DeleteButton basePath='' />\r\n            </Datagrid>\r\n        </List>\r\n    )\r\n}\r\n\r\nexport default ProductsList\r\n","import React from \"react\";\r\nimport { Create, SimpleForm, TextInput, NumberInput } from \"react-admin\";\r\n\r\nconst ProductsCreate = (props) => {\r\n  return (\r\n    <Create title=\"Add product\" {...props}>\r\n      <SimpleForm>\r\n        <TextInput source=\"name\" />\r\n        <NumberInput source=\"price\" step={1} />\r\n        <NumberInput source=\"count\" step={1} />\r\n        <TextInput source=\"category\" />\r\n      </SimpleForm>\r\n    </Create>\r\n  );\r\n};\r\n\r\nexport default ProductsCreate;\r\n","import React from \"react\";\r\nimport { Edit, SimpleForm, TextInput, NumberInput } from \"react-admin\";\r\n\r\nconst ProductsEdit = (props) => {\r\n  return (\r\n    <Edit title=\"Edit product\" {...props}>\r\n      <SimpleForm>\r\n        <TextInput disabled source=\"id\" />\r\n        <TextInput source=\"name\" />\r\n        <NumberInput source=\"price\" step={1} />\r\n        <NumberInput source=\"count\" step={1} />\r\n        <TextInput source=\"category\" />\r\n      </SimpleForm>\r\n    </Edit>\r\n  );\r\n};\r\n\r\nexport default ProductsEdit;\r\n","import React from 'react'\r\nimport {List, Datagrid, TextField, DateField, EditButton, DeleteButton, BooleanField} from 'react-admin'\r\n\r\nconst UsersList = (props) => {\r\n    return (\r\n        <List {...props} >\r\n            <Datagrid>\r\n                <TextField source='id' />\r\n                <TextField source='name' />\r\n                <TextField source='email' />\r\n                <BooleanField source='isAdmin' />\r\n                <DateField source='createdAt' />\r\n                <DateField source='updatedAt' />\r\n                <EditButton basePath='' />\r\n                <DeleteButton basePath='' />\r\n            </Datagrid>\r\n        </List>\r\n    )\r\n}\r\n\r\nexport default UsersList","import React from \"react\";\r\nimport {\r\n  Edit,\r\n  SimpleForm,\r\n  TextInput,\r\n  BooleanInput,\r\n} from \"react-admin\";\r\n\r\nconst UsersEdit = (props) => {\r\n\r\n\r\n  return (\r\n    <Edit title=\"Edit user\" {...props}>\r\n      <SimpleForm>\r\n        <TextInput disabled source=\"id\" />\r\n        <TextInput source=\"name\" />\r\n        <TextInput source=\"email\" />\r\n        <BooleanInput source=\"isAdmin\" />\r\n      </SimpleForm>\r\n    </Edit>\r\n  );\r\n};\r\n\r\nexport default UsersEdit;\r\n","import React from 'react'\r\nimport {Create, SimpleForm, TextInput, BooleanInput, PasswordInput} from 'react-admin'\r\n\r\n\r\nconst UsersCreate = (props) => {\r\n\r\n    return (\r\n        <Create title='Add user' {...props} >\r\n            <SimpleForm>\r\n                <TextInput source='name' />\r\n                <TextInput source='email' />\r\n                <PasswordInput source=\"password\" />\r\n                <BooleanInput source='isAdmin' />\r\n            </SimpleForm>\r\n        </Create>\r\n    )\r\n}\r\n\r\nexport default UsersCreate\r\n","import React from \"react\";\r\nimport { Admin, Resource, ListGuesser } from \"react-admin\";\r\nimport restProvider from \"ra-data-simple-rest\";\r\nimport ProductsList from \"./products/ProductsList\";\r\nimport ProductsCreate from \"./products/ProductsCreate\";\r\nimport ProductsEdit from \"./products/ProductsEdit\";\r\nimport UsersList from \"./users/UsersList\";\r\nimport UsersEdit from \"./users/UsersEdit\";\r\nimport UsersCreate from \"./users/UsersCreate\";\r\nimport { useUsers } from \"../reducers/UserReducer\";\r\nimport { createBrowserHistory } from 'history';\r\n\r\nconst AdminPage = () => {\r\n  const { user } = useUsers();\r\n  const history = createBrowserHistory()\r\n  if (!user) {\r\n    return null\r\n  }\r\n\r\n  const url = process.env.NODE_ENV === \"development\" ? \"http://localhost:3001/api\" : \"/api\"\r\n\r\n  return (\r\n    <Admin history={history}  dataProvider={restProvider(url)}>\r\n      <Resource\r\n        name=\"products\"\r\n        list={ProductsList}\r\n        create={ProductsCreate}\r\n        edit={ProductsEdit}\r\n      />\r\n      <Resource\r\n        name=\"users\"\r\n        list={UsersList}\r\n        create={UsersCreate}\r\n        edit={UsersEdit}\r\n      />\r\n      <Resource name=\"orders\" list={ListGuesser} />\r\n      <Resource name=\"reviews\" list={ListGuesser} />\r\n      <Resource name=\"ratings\" list={ListGuesser} />\r\n    </Admin>\r\n  );\r\n};\r\n\r\nexport default AdminPage;\r\n","import React from \"react\";\r\nimport Navbar from \"./components/navbar/Navbar\";\r\nimport Products from \"./components/products/Products\";\r\nimport SignUp from \"./components/SignUp\";\r\nimport LogIn from \"./components/LogIn\";\r\nimport Frontpage from \"./components/Frontpage\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport AppDataContext from \"./components/reducers/AppDataContext\";\r\nimport Notification from \"./components/Notification\";\r\nimport ShoppingCart from \"./components/shoppingCart/ShoppingCart\";\r\nimport ProductDetailView from \"./components/productDetails/ProductDetailView\";\r\nimport AdminPage from \"./components/admin/AdminPage\";\r\nimport { Container } from \"@material-ui/core\";\r\n\r\nconst App = () => {\r\n  const stylings = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"wheat\",\r\n    paddingTop: \"1%\",\r\n    paddingBottom: \"2%\",\r\n  };\r\n\r\n  return (\r\n    <AppDataContext>\r\n      <Router>\r\n        <Navbar />\r\n        <Container style={stylings} maxWidth=\"md\">\r\n          <Notification />\r\n\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Frontpage />\r\n            </Route>\r\n            <Route exact path=\"/products\">\r\n              <Products />\r\n            </Route>\r\n            <Route exact path=\"/products/:id\">\r\n              <ProductDetailView />\r\n            </Route>\r\n            <Route exact path=\"/signup\">\r\n              <SignUp />\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              <LogIn />\r\n            </Route>\r\n            <Route exact path=\"/shoppingcart\">\r\n              <ShoppingCart />\r\n            </Route>\r\n            <Route exact path=\"/admin\">\r\n              <AdminPage />\r\n            </Route>\r\n          </Switch>\r\n        </Container>\r\n      </Router>\r\n    </AppDataContext>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}