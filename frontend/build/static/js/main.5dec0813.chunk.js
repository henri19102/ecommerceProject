(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{435:function(e,t,r){},613:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(20),s=r.n(c),i=(r(435),r(43)),o=r(616),u=r(686),d=r(617),l=r(61),j=r(202),p=r(678),b=r(679),f=r(30),h=r(17),x=r(3),O=a.a.createContext(),m=function(){return Object(n.useContext)(O)},g=function(e,t){switch(t.type){case"logIn":return t.payload;case"logOut":return null;default:return e}},v=function(e){var t=e.children,r=Object(n.useReducer)(g,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=new Date,r=JSON.parse(e);r.expiry<t.getTime()&&(window.localStorage.removeItem("loggedUser"),s({type:"logOut"})),s({type:"logIn",payload:r})}}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(O.Provider,{value:{user:c,dispatchUser:s},children:t})})},y=r(201),w=Object(y.a)((function(){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"wheat",paddingTop:"1%",paddingBottom:"2%"},productSearch:{backgroundColor:"white"},toolbar:{display:"flex",justifyContent:"center"},logIn:{display:"flex",justifyContent:"center",backgroundColor:"white",padding:"2%"},form:{display:"flex",flexDirection:"column"},input:{margin:"5%"},header:{marginLeft:"2%",marginRight:"2%"},white:{color:"white"},grey:{backgroundColor:"grey",marginTop:"0"},products:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",marginBottom:"2%"},productsPage:{display:"flex",flexDirection:"column"},productCard:{marginBottom:"2%"},green:{border:"solid",borderRadius:"5px",padding:"2px"},message:{display:"flex",justifyContent:"center"},blue:{backgroundColor:"#3f51b5"},cardContent:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:"2%"},text1:{textAlign:"center"},sum:{border:"solid",borderWidth:"thin",borderRadius:"5px",padding:"2px",backgroundColor:"white",textAlign:"center",marginBottom:"2%"},cardContent2:{display:"flex",justifyContent:"center"},card1:{marginTop:"2%",marginBottom:"2%"},cardContent3:{width:"50%",marginBottom:"2%"},cardContent4:{width:"90%",marginBottom:"2%"}}})),C=function(){var e=w(),t=Object(f.g)(),r=m();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j.a,{className:e.white,onClick:function(){r.user&&(window.localStorage.removeItem("loggedUser"),r.dispatchUser({type:"logOut"})),t.push("/login")},children:r.user?Object(x.jsxs)(l.a,{children:[Object(x.jsx)(p.a,{fontSize:"large"}),"logout"]}):Object(x.jsxs)(l.a,{children:[Object(x.jsx)(b.a,{fontSize:"large"}),"login"]})})})},k=r(681),I=r(24),N=r(11),A=r.n(N),P=r(21),S=r(38),T=r.n(S),R="/api/orders",F=function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(R);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(P.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(R,"/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(P.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(R,"/user/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(P.a)(A.a.mark((function e(t,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("".concat(R,"/add"),{productId:t,userId:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.delete("".concat(R),{data:{all:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U={addToCart:L,getAll:F,removeProductFromCart:function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.delete("".concat(R,"/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUsersOrders:E,getProductCount:B,removeAllFromCart:W},D=a.a.createContext(),q=function(){return Object(n.useContext)(D)},V=function(e,t){switch(t.type){case"getAll":return t.payload;case"userOrders":return t.userPayload;case"add":return[].concat(Object(I.a)(e),[t.payload]);case"delete":return e.filter((function(e){return e.id!==t.deleteId}));case"deleteAll":return Object(I.a)(e.filter((function(e){return!t.payload.includes(e)})));default:return e}},z=function(e){var t=e.children,r=Object(n.useReducer)(V,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){U.getAll().then((function(e){return s({type:"getAll",payload:e})}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(D.Provider,{value:{orders:c,dispatchOrders:s},children:t})})},J=r(680),M=function(){var e=w(),t=m().user,r=q().orders,n=Object(f.g)();if(!r)return null;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j.a,{className:e.white,onClick:function(){return n.push("/shoppingcart")},"aria-label":"add to shopping cart",children:Object(x.jsx)(J.a,{color:"secondary",badgeContent:function(){if(t)return r.filter((function(e){return e.userId===t.id})).length}(),children:Object(x.jsx)(k.a,{fontSize:"large"})})})})},Y=r(385),H=r(175),G=r.n(H),K=r(685),Q=r(29),X=r(4),Z=r(249),$=r(332),_=r.n($),ee=function(e){var t=e.name,r=e.pathTo,n=(e.isSelected,Object(X.a)(e,["name","pathTo","isSelected"])),a=Object(f.g)(),c=Object(f.h)();return Object(x.jsx)(Z.a,Object(Q.a)(Object(Q.a)({},n),{},{startIcon:c.pathname===r&&Object(x.jsx)(_.a,{}),style:{color:"white"},variant:"outlined",size:"large",onClick:function(){return a.push(r)},children:t}))},te=r(333),re=r.n(te),ne=function(e){var t=e.pathTo,r=w(),n=Object(f.g)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j.a,{className:r.blue,"aria-label":"admin",children:Object(x.jsxs)(l.a,{className:r.white,children:[Object(x.jsx)(re.a,{className:r.white,fontSize:"large",onClick:function(){return n.push(t)}}),"Admin"]})})})},ae=function(e){var t=e.admin,r=e.user,a=w(),c=Object(n.useState)(null),s=Object(h.a)(c,2),i=s[0],o=s[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(G.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}}),Object(x.jsxs)(Y.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)},children:[Object(x.jsx)(K.a,{children:Object(x.jsx)(ee,{className:a.blue,name:"Frontpage",pathTo:"/"})}),Object(x.jsx)(K.a,{children:Object(x.jsx)(ee,{className:a.blue,name:"Products",pathTo:"/products"})}),t&&Object(x.jsx)(K.a,{children:Object(x.jsx)(ne,{className:a.blue,pathTo:"/admin"})}),!r&&Object(x.jsx)(K.a,{children:Object(x.jsx)(ee,{className:a.blue,name:"Sign up",pathTo:"/signup"})})]})]})},ce=function(e){var t=e.admin,r=e.user;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ee,{name:"Frontpage",pathTo:"/"}),Object(x.jsx)(ee,{name:"Products",pathTo:"/products"}),t&&Object(x.jsx)(ne,{pathTo:"/admin"}),!r&&Object(x.jsx)(ee,{name:"Sign up",pathTo:"/signup"})]})},se=function(){var e,t=m().user,r=Object(i.a)(),n=w(),a=Object(o.a)(r.breakpoints.down("sm"));return t&&(e=!!t.isAdmin),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(u.a,{className:n.appBar,position:"sticky",children:Object(x.jsxs)(d.a,{className:n.toolbar,children:[a?Object(x.jsx)(ae,{admin:e,user:t}):Object(x.jsx)(ce,{admin:e,user:t}),Object(x.jsx)(l.a,{className:n.header,variant:"h4",children:"SHOP"}),Object(x.jsx)(M,{}),Object(x.jsx)(C,{})]})})})},ie=r(689),oe=r(687),ue=r(690),de=r(688),le="/api/ratings",je={getAll:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(le);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addRating:function(){var e=Object(P.a)(A.a.mark((function e(t,r,n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(le,{userId:t,productId:r,starRating:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},pe=a.a.createContext(),be=function(e,t){switch(t.type){case"ratings":return t.payload;case"add":return[].concat(Object(I.a)(e),[t.payload]);default:return e}},fe=function(e){var t=e.children,r=Object(n.useReducer)(be,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){je.getAll().then((function(e){return s({type:"ratings",payload:e})}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(pe.Provider,{value:{ratings:c,dispatchRatings:s},children:t})})},he=a.a.createContext(),xe=function(){return Object(n.useContext)(he)},Oe={message:null,isError:!0},me=function(e,t){switch(t.type){case"message":return t.message;case"clear":return Oe;default:return e}},ge=function(e){var t=e.children,r=Object(n.useReducer)(me,Oe),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(he.Provider,{value:{notification:c,dispatchNotification:s},children:t})})},ve=r(722),ye=r(177),we=r.n(ye),Ce=a.a.createContext(),ke=function(){return Object(n.useContext)(Ce)},Ie=function(e,t){switch(t.type){case"getAll":return t.payload;case"removeAll":return[];default:return e}},Ne=function(e){var t=e.children,r=Object(n.useReducer)(Ie,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ce.Provider,{value:{cartProducts:c,dispatchCart:s},children:t})})},Ae=function(e){var t=e.productId,r=e.buttonText,n=m().user,a=q(),c=ke(),s=function(){var e=Object(P.a)(A.a.mark((function e(){var r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return e.next=3,U.addToCart(t,n.id);case 3:return r=e.sent,a.dispatchOrders({type:"add",payload:r}),e.next=7,U.getProductCount(n.id);case 7:s=e.sent,c.dispatchCart({type:"getAll",payload:s});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(oe.a,{children:Object(x.jsx)(Z.a,{startIcon:Object(x.jsx)(we.a,{}),color:"primary",variant:"contained",onClick:s,children:r})})})},Pe=function(e){var t,r=e.product,a=w(),c=m().user,s=Object(n.useContext)(pe),i=Object(f.g)(),o=xe(),u=function(e,t){o.dispatchNotification({type:"message",message:{message:e,isError:t}}),setTimeout((function(){o.dispatchNotification({type:"clear"})}),5e3)};if(!s.ratings)return null;if(s.ratings.find((function(e){return e.productId===r.id}))){var d=s.ratings.filter((function(e){return e.productId===r.id})).map((function(e){return e.starRating}));t=d.reduce((function(e,t){return e+t}))/d.length}var j=function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",u("Please log in first to rate",!0));case 2:if(!s.ratings.find((function(e){return e.userId===c.id&&e.productId===r.id}))){e.next=4;break}return e.abrupt("return",u("You have already rated this product!",!0));case 4:return e.next=6,je.addRating(c.id,r.id,t);case 6:n=e.sent,s.dispatchRatings({type:"add",payload:n}),u("Product rated succesfully!",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(de.a,{className:a.productCard,children:Object(x.jsxs)(ie.a,{variant:"outlined",children:[Object(x.jsxs)(ue.a,{children:[Object(x.jsx)(l.a,{gutterBottom:!0,children:"Product:"}),Object(x.jsx)(Z.a,{size:"large",variant:"contained",onClick:function(){return i.push("products/".concat(r.id))},children:"".concat(r.name)}),Object(x.jsx)(l.a,{children:"Price:"}),Object(x.jsx)(l.a,{children:"".concat(r.price," \u20ac")}),Object(x.jsx)(ve.a,{value:t||0,name:"".concat(r.id),onChange:function(e,t){j(t)}})]}),Object(x.jsx)(oe.a,{children:Object(x.jsx)(Ae,{productId:r.id,buttonText:"Add to cart"})})]})})},Se={getAll:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Te=a.a.createContext(),Re=function(){return Object(n.useContext)(Te)},Fe=function(e,t){switch(t.type){case"products":return t.payload;default:return e}},Ee=function(e){var t=e.children,r=Object(n.useReducer)(Fe,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){Se.getAll().then((function(e){return s({type:"products",payload:e})}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Te.Provider,{value:{products:c,productsDispatch:s},children:t})})},Be=r(383),Le=function(e){var t=e.options,r=e.handleChange,n=e.findValue;e.category;return Object(x.jsx)("div",{style:{width:"30%"},children:Object(x.jsxs)(l.a,{component:"div",children:["Filter by product category:",Object(x.jsx)(Be.a,{options:t,onChange:r,value:n})]})})},We=r(618),Ue=function(e){var t=e.setName,r=w();return Object(x.jsx)("div",{style:{width:"30%"},children:Object(x.jsxs)(l.a,{component:"div",children:["Search:",Object(x.jsx)(We.a,{className:r.productSearch,variant:"outlined",onChange:function(e){return t(e.target.value)},label:"Search product by name"})]})})},De=function(){var e=Object(n.useState)("All"),t=Object(h.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(h.a)(c,2),i=s[0],o=s[1],u=w(),d=Re().products;if(!d)return null;var l,j=d.map((function(e){return{value:e.category,label:e.category}})),p=[].concat(Object(I.a)(j),[{value:"All",label:"All"}]),b=(l=p,Object(I.a)(new Set(l.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)})));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:u.productsPage,children:[Object(x.jsxs)("div",{className:u.products,children:[Object(x.jsx)(Le,{options:b,handleChange:function(e){a(e.value)},findValue:function(){return b.find((function(e){return e.value===r}))},category:r}),Object(x.jsx)(Ue,{setName:o})]}),Object(x.jsx)("div",{className:u.products,children:d.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})).filter((function(e){return"All"===r?e:e.category===r})).map((function(e){return Object(x.jsx)(Pe,{product:e},e.id)}))})]})})},qe="/api/users",Ve={signUp:function(){var e=Object(P.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(qe,t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logIn:function(){var e=Object(P.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("".concat(qe,"/login"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ze=r(108),Je=r(93),Me=function(e){var t=e.label,r=Object(X.a)(e,["label"]),n=Object(ze.c)(r),a=Object(h.a)(n,2),c=a[0],s=a[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(We.a,Object(Q.a)(Object(Q.a)({id:"outlined-basic",label:t,variant:"outlined",className:"text-input"},c),r)),s.touched&&s.error?Object(x.jsx)("div",{className:"error",children:s.error}):null]})},Ye=function(){var e=m(),t=Object(f.g)(),r=w(),n=xe(),a=Object(i.a)(),c=Object(o.a)(a.breakpoints.down("sm")),s=function(e,t){n.dispatchNotification({type:"message",message:{message:e,isError:t}}),setTimeout((function(){n.dispatchNotification({type:"clear"})}),5e3)},u=Je.a({name:Je.b().max(15,"Must be 15 characters or less").required("Required"),email:Je.b().email("Invalid email addresss`").required("Required"),password:Je.b().min(5,"Password must be atleast 5 characters long").required("Required")}),d=function(){var r=Object(P.a)(A.a.mark((function r(n){var a;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ve.signUp(n);case 3:return r.next=5,Ve.logIn({name:n.name,password:n.password});case 5:a=r.sent,window.localStorage.setItem("loggedUser",JSON.stringify(a)),e.dispatchUser({type:"logIn",payload:a}),t.push("/"),s("Succesfully signed up!",!1),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0),s("Invalid inputs!",!0);case 16:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsx)(ie.a,{className:c?r.cardContent4:r.cardContent3,variant:"outlined",children:Object(x.jsx)(ue.a,{className:r.cardContent,children:Object(x.jsx)(ze.b,{initialValues:{name:"",email:"",password:""},validationSchema:u,onSubmit:d,children:Object(x.jsxs)(ze.a,{className:r.form,noValidate:!0,autoComplete:"off",children:[Object(x.jsx)(Me,{style:{margin:"5%"},id:"nameInput",label:"Name",name:"name",type:"text",placeholder:"Jane"}),Object(x.jsx)(Me,{style:{margin:"5%"},id:"emailInput",label:"Email",name:"email",type:"email",placeholder:"jane@formik.com"}),Object(x.jsx)(Me,{style:{margin:"5%"},id:"passwordInput",label:"password",name:"password",type:"password",placeholder:"password"}),Object(x.jsx)(Z.a,{style:{margin:"5%"},color:"primary",variant:"contained",type:"submit",children:"Sign up"})]})})})})},He=function(){var e=m(),t=Object(f.g)(),r=w(),n=xe(),a=Object(i.a)(),c=Object(o.a)(a.breakpoints.down("sm")),s=function(e,t){n.dispatchNotification({type:"message",message:{message:e,isError:t}}),setTimeout((function(){n.dispatchNotification({type:"clear"})}),5e3)},u=Je.a({name:Je.b().required("Required"),password:Je.b().required("Required")}),d=function(){var r=Object(P.a)(A.a.mark((function r(n){var a,c,i;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=new Date,r.next=4,Ve.logIn(n);case 4:c=r.sent,i=Object(Q.a)(Object(Q.a)({},c),{},{expiry:a.getTime()+Math.pow(3200,2)}),window.localStorage.setItem("loggedUser",JSON.stringify(i)),e.dispatchUser({type:"logIn",payload:i}),t.push("/"),s("Succesfully logged in as ".concat(i.name,"!"),!1),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0),s("Wrong name or password!",!0);case 16:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsx)(ie.a,{className:c?r.cardContent4:r.cardContent3,variant:"outlined",children:Object(x.jsx)(ue.a,{children:Object(x.jsx)(ze.b,{initialValues:{name:"",password:""},validationSchema:u,onSubmit:d,children:Object(x.jsxs)(ze.a,{className:r.form,noValidate:!0,autoComplete:"off",children:[Object(x.jsx)(Me,{style:{margin:"5%"},id:"nameInput",label:"name",name:"name",type:"text",placeholder:"jane@formik.com"}),Object(x.jsx)(Me,{style:{margin:"5%"},id:"passwordInput",label:"password",name:"password",type:"password",placeholder:"password"}),Object(x.jsx)(Z.a,{style:{margin:"5%"},color:"primary",variant:"contained",type:"submit",children:"Log In"})]})})})})},Ge=function(){var e=w();return Object(x.jsx)("div",{children:Object(x.jsx)(ie.a,{className:e.card1,children:Object(x.jsxs)(ue.a,{children:[Object(x.jsx)("p",{style:{fontWeight:"bold"},children:"Welcome to my ecommerce test shop!"}),Object(x.jsx)("p",{children:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section 1.10.32.'})]})})})},Ke=r(23),Qe="/api/reviews",Xe={getAll:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(Qe);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addReview:function(){var e=Object(P.a)(A.a.mark((function e(t,r,n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(Qe,{userId:t,productId:r,reviewText:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ze=a.a.createContext(),$e=function(){return Object(n.useContext)(Ze)},_e=function(e,t){switch(t.type){case"reviews":return t.payload;case"add":return[].concat(Object(I.a)(e),[t.payload]);default:return e}},et=function(e){var t=e.children,r=Object(n.useReducer)(_e,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){Xe.getAll().then((function(e){return s({type:"reviews",payload:e})}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ze.Provider,{value:{reviews:c,dispatchReviews:s},children:t})})},tt="/api/likes";console.log("production");var rt={getAll:function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(tt);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addLike:function(){var e=Object(P.a)(A.a.mark((function e(t,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(tt,{userId:t,reviewId:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),removeLike:function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.delete("".concat(tt,"/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},nt=a.a.createContext(),at=function(){return Object(n.useContext)(nt)},ct=function(e,t){switch(t.type){case"getAll":return t.payload;case"add":return[].concat(Object(I.a)(e),[t.payload]);case"remove":return Object(I.a)(e.filter((function(e){return e!==t.payload})));default:return e}},st=function(e){var t=e.children,r=Object(n.useReducer)(ct,null),a=Object(h.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){rt.getAll().then((function(e){return s({type:"getAll",payload:e})}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(nt.Provider,{value:{likes:c,dispatchLikes:s},children:t})})},it=function(e){var t=e.children;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(v,{children:Object(x.jsx)(Ee,{children:Object(x.jsx)(ge,{children:Object(x.jsx)(z,{children:Object(x.jsx)(Ne,{children:Object(x.jsx)(et,{children:Object(x.jsx)(fe,{children:Object(x.jsx)(st,{children:t})})})})})})})})})},ot=r(716),ut=r(720),dt=function(){var e=xe();return e.notification.isError?Object(x.jsx)(x.Fragment,{children:e.notification.message&&Object(x.jsx)(ut.a,{open:!0,children:Object(x.jsx)(ot.a,{variant:"filled",severity:"error",children:e.notification.message})})}):Object(x.jsx)(x.Fragment,{children:e.notification.message&&Object(x.jsx)(ut.a,{open:!0,children:Object(x.jsx)(ot.a,{variant:"filled",severity:"success",children:e.notification.message})})})},lt=r(714),jt=r(339),pt=r.n(jt),bt=function(e){var t=e.product,r=w(),n=m().user,a=q(),c=ke();if(!t)return null;var s=function(){var e=Object(P.a)(A.a.mark((function e(){var r,s,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.orders.find((function(e){return e.userId===n.id&&e.productId===t.productId})),s=r.id,e.next=4,U.removeProductFromCart(s);case 4:return a.dispatchOrders({type:"delete",deleteId:s}),e.next=7,U.getProductCount(n.id);case 7:i=e.sent,c.dispatchCart({type:"getAll",payload:i});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(ie.a,{className:r.cardContent,variant:"outlined",children:[Object(x.jsxs)(ue.a,{className:r.cardContent,children:[Object(x.jsxs)(l.a,{className:r.text1,children:["Product:"," ",Object(x.jsx)(lt.a,{component:"span",fontWeight:"fontWeightBold",children:"".concat(t.Product.name)})]}),Object(x.jsxs)(l.a,{className:r.text1,children:["Price:"," ",Object(x.jsx)(lt.a,{component:"span",fontWeight:"fontWeightBold",children:"".concat(t.Product.price," \u20ac ")})]}),Object(x.jsxs)(l.a,{className:r.text1,children:["Total price:"," ",Object(x.jsx)(lt.a,{component:"span",fontWeight:"fontWeightBold",children:"".concat(Number(t.productCount)*t.Product.price," \u20ac ")})]})]}),Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(Ae,{productId:t.productId,buttonText:"Add"}),Object(x.jsx)(l.a,{variant:"h6",className:r.green,children:"".concat(t.productCount," pcs.")}),Object(x.jsx)(Z.a,{startIcon:Object(x.jsx)(pt.a,{}),onClick:s,color:"secondary",variant:"contained",size:"small",children:"Remove"})]})]})},ft=r(623),ht=r(628),xt=r(626),Ot=r(627),mt=r(625),gt=function(){var e=m().user,t=q(),r=ke(),n=xe(),c=a.a.useState(!1),s=Object(h.a)(c,2),u=s[0],d=s[1],l=Object(i.a)(),j=Object(o.a)(l.breakpoints.down("sm")),p=function(){d(!1)};if(!e)return null;if(!t)return null;var b=function(){var a=Object(P.a)(A.a.mark((function a(){var c,s;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d(!1),c=t.orders.filter((function(t){return t.userId===e.id})).map((function(e){return e.id})),a.next=4,U.removeAllFromCart(c);case 4:return t.dispatchOrders({type:"deleteAll",payload:c}),a.next=7,U.getAll();case 7:s=a.sent,t.dispatchOrders({type:"getAll",payload:s}),r.dispatchCart({type:"removeAll"}),i="Items purchased succesfully!",o=!1,n.dispatchNotification({type:"message",message:{message:i,isError:o}}),setTimeout((function(){n.dispatchNotification({type:"clear"})}),5e3);case 11:case"end":return a.stop()}var i,o}),a)})));return function(){return a.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{textAlign:"center"},children:[Object(x.jsx)(Z.a,{variant:"contained",onClick:function(){d(!0)},children:"Checkout"}),Object(x.jsxs)(ft.a,{fullScreen:j,open:u,onClose:p,"aria-labelledby":"responsive-dialog-title",children:[Object(x.jsx)(mt.a,{id:"responsive-dialog-title",children:"Continue?"}),Object(x.jsx)(xt.a,{children:Object(x.jsx)(Ot.a,{children:"Purchase all items from shopping cart or cancel and continue shopping?"})}),Object(x.jsxs)(ht.a,{children:[Object(x.jsx)(Z.a,{autoFocus:!0,onClick:p,color:"primary",children:"Cancel"}),Object(x.jsx)(Z.a,{onClick:b,color:"primary",autoFocus:!0,children:"Purchase"})]})]})]})},vt=function(){var e=ke(),t=m().user,r=w();if(Object(n.useEffect)((function(){t&&function(){var r=Object(P.a)(A.a.mark((function r(){var n;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,U.getProductCount(t.id);case 2:n=r.sent,e.dispatchCart({type:"getAll",payload:n});case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()()}),[t]),!e.cartProducts)return null;var a=e.cartProducts.reduce((function(e,t){return e+Number(t.productCount)*t.Product.price}),0);return Object(x.jsxs)("div",{className:r.productsPage,children:[Object(x.jsx)(lt.a,{className:r.products,children:e.cartProducts.map((function(e){return Object(x.jsx)(bt,{product:e},e.productId)}))}),Object(x.jsx)(ie.a,{className:r.cardContent,variant:"outlined",children:Object(x.jsx)(ue.a,{className:r.cardContent2,children:Object(x.jsx)(l.a,{variant:"h6",children:a>0?"Total price: ".concat(a):"Shopping cart is empty"})})}),a>0&&Object(x.jsx)(gt,{})]})},yt=r(684),wt=function(){var e=Re().products,t=$e(),r=Object(f.i)().id;if(!e)return null;if(!t.reviews)return null;var n=e.find((function(e){return e.id===Number(r)}));return Object(x.jsxs)("div",{children:[Object(x.jsxs)(l.a,{component:"div",style:{margin:"1%",textDecoration:"underline"},children:["Product:"," ",Object(x.jsx)(lt.a,{component:"span",fontWeight:"fontWeightBold",children:"".concat(n.name)})]}),Object(x.jsx)(l.a,{component:"div",style:{margin:"1%"},children:Object(x.jsx)(lt.a,{fontStyle:"italic",children:"Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure"})}),Object(x.jsx)("span",{children:" "}),Object(x.jsxs)(l.a,{component:"div",style:{margin:"1%",textDecoration:"underline"},children:["Price:"," ",Object(x.jsx)(lt.a,{component:"span",fontWeight:"fontWeightBold",children:"".concat(n.price," \u20ac")})]})]})},Ct=r(615),kt=r(693),It=r(692),Nt=r(691),At=r(721),Pt=r(340),St=r.n(Pt),Tt=r(341),Rt=r.n(Tt),Ft=function(e){var t,r=e.review,n=at(),c=m().user,s=xe();if(!r.User)return null;if(!n.likes)return null;c&&(t=n.likes.find((function(e){return e.userId===c.id&&e.reviewId===r.id})));var i=n.likes.filter((function(e){return e.reviewId===r.id})).length,o=function(e,t){s.dispatchNotification({type:"message",message:{message:e,isError:t}}),setTimeout((function(){s.dispatchNotification({type:"clear"})}),5e3)},u=function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",o("Please log in first to vote",!0));case 2:if(r.userId!==c.id){e.next=4;break}return e.abrupt("return",o("You cannot vote for your own review",!0));case 4:return e.next=6,rt.addLike(c.id,r.id);case 6:t=e.sent,n.dispatchLikes({type:"add",payload:t});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",o("Please log in first to vote",!0));case 2:return r.userId===c.id&&o("You cannot vote for your own review",!0),t=n.likes.find((function(e){return e.userId===c.id&&e.reviewId===r.id})),e.next=6,rt.removeLike(t.id);case 6:n.dispatchLikes({type:"remove",payload:t});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Ct.a,{children:[Object(x.jsx)(Nt.a,{children:Object(x.jsx)(At.a,{alt:"Remy Sharp"})}),Object(x.jsx)(It.a,{primary:Object(x.jsx)(lt.a,{fontWeight:"fontWeightBold",children:r.User.name}),secondary:Object(x.jsx)(a.a.Fragment,{children:r.reviewText})}),t?Object(x.jsx)(j.a,{onClick:d,children:Object(x.jsx)(St.a,{color:"primary"})}):Object(x.jsx)(j.a,{onClick:u,children:Object(x.jsx)(Rt.a,{color:"primary"})}),Object(x.jsx)(l.a,{component:"div",style:{color:"blue"},children:i})]},r.id),Object(x.jsx)(kt.a,{variant:"inset",component:"li"})]})},Et=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),r=t[0],a=t[1],c=Re().products,s=$e(),i=m().user,o=Object(f.i)().id,u=xe();if(!c)return null;if(!s.reviews)return null;var d=c.find((function(e){return e.id===Number(o)})),j=function(e,t){u.dispatchNotification({type:"message",message:{message:e,isError:t}}),setTimeout((function(){u.dispatchNotification({type:"clear"})}),5e3)},p=function(){var e=Object(P.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.reviews.find((function(e){return e.userId===i.id&&e.productId===d.id}))){e.next=2;break}return e.abrupt("return",j("You have already reviewed this product!",!0));case 2:return e.next=4,Xe.addReview(i.id,d.id,r);case 4:return t=e.sent,s.dispatchReviews({type:"add",payload:t}),e.next=8,Xe.getAll();case 8:n=e.sent,s.dispatchReviews({type:"reviews",payload:n}),j("New review added!",!1),a("");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)(l.a,{component:"div",style:{margin:"1%",textDecoration:"underline"},children:"Add review:"}),Object(x.jsx)(We.a,{style:{width:"100%"},onChange:function(e){return a(e.target.value)},value:r,multiline:!0}),Object(x.jsx)(Z.a,{color:"primary",style:{marginTop:"2%"},variant:"contained",size:"small",onClick:p,children:"Submit Review"})]})},Bt=function(){var e=w(),t=Re().products,r=$e(),n=Object(f.i)().id,a=at().likes;if(!t)return null;if(!a)return null;if(!r.reviews)return null;var c=r.reviews.map((function(e){return e=Object(Q.a)(Object(Q.a)({},e),{},{likes:a.filter((function(t){return t.reviewId===e.id})).length})})).filter((function(e){return e.productId===Number(n)})).sort((function(e,t){return t.likes-e.likes}));return Object(x.jsxs)("div",{children:[Object(x.jsx)(ie.a,{className:e.card1,children:Object(x.jsxs)(ue.a,{children:[Object(x.jsx)(wt,{}),Object(x.jsx)(Ae,{productId:n,buttonText:"Add to cart"})]})}),Object(x.jsx)(ie.a,{className:e.card1,children:Object(x.jsx)(ue.a,{children:Object(x.jsx)(Et,{})})}),Object(x.jsx)(l.a,{component:"div",style:{margin:"1%",fontWeight:"bold"},children:"REVIEWS:"}),Object(x.jsx)("div",{children:Object(x.jsx)(ie.a,{className:e.card1,children:Object(x.jsx)(ue.a,{children:Object(x.jsx)(yt.a,{children:c.map((function(e){return Object(x.jsx)(Ft,{review:e},e.id)}))})})})})]})},Lt=r(711),Wt=r(709),Ut=r(712),Dt=r(378),qt=r(694),Vt=r(382),zt=r(149),Jt=r(356),Mt=r(705),Yt=r(717),Ht=function(e){return Object(x.jsx)(qt.a,Object(Q.a)(Object(Q.a)({},e),{},{children:Object(x.jsxs)(Vt.a,{children:[Object(x.jsx)(zt.a,{source:"id"}),Object(x.jsx)(zt.a,{source:"name"}),Object(x.jsx)(zt.a,{source:"price"}),Object(x.jsx)(zt.a,{source:"count"}),Object(x.jsx)(zt.a,{source:"category"}),Object(x.jsx)(Jt.a,{source:"createdAt"}),Object(x.jsx)(Jt.a,{source:"updatedAt"}),Object(x.jsx)(Mt.a,{basePath:""}),Object(x.jsx)(Yt.a,{basePath:""})]})}))},Gt=r(718),Kt=r(713),Qt=r(387),Xt=r(707),Zt=function(e){return Object(x.jsx)(Gt.a,Object(Q.a)(Object(Q.a)({title:"Add product"},e),{},{children:Object(x.jsxs)(Kt.a,{children:[Object(x.jsx)(Qt.a,{source:"name"}),Object(x.jsx)(Xt.a,{source:"price",step:1}),Object(x.jsx)(Xt.a,{source:"count",step:1}),Object(x.jsx)(Qt.a,{source:"category"})]})}))},$t=r(715),_t=function(e){return Object(x.jsx)($t.a,Object(Q.a)(Object(Q.a)({title:"Edit product"},e),{},{children:Object(x.jsxs)(Kt.a,{children:[Object(x.jsx)(Qt.a,{disabled:!0,source:"id"}),Object(x.jsx)(Qt.a,{source:"name"}),Object(x.jsx)(Xt.a,{source:"price",step:1}),Object(x.jsx)(Xt.a,{source:"count",step:1}),Object(x.jsx)(Qt.a,{source:"category"})]})}))},er=r(363),tr=function(e){return Object(x.jsx)(qt.a,Object(Q.a)(Object(Q.a)({},e),{},{children:Object(x.jsxs)(Vt.a,{children:[Object(x.jsx)(zt.a,{source:"id"}),Object(x.jsx)(zt.a,{source:"name"}),Object(x.jsx)(zt.a,{source:"email"}),Object(x.jsx)(er.a,{source:"isAdmin"}),Object(x.jsx)(Jt.a,{source:"createdAt"}),Object(x.jsx)(Jt.a,{source:"updatedAt"}),Object(x.jsx)(Mt.a,{basePath:""}),Object(x.jsx)(Yt.a,{basePath:""})]})}))},rr=r(719),nr=function(e){return Object(x.jsx)($t.a,Object(Q.a)(Object(Q.a)({title:"Edit user"},e),{},{children:Object(x.jsxs)(Kt.a,{children:[Object(x.jsx)(Qt.a,{disabled:!0,source:"id"}),Object(x.jsx)(Qt.a,{source:"name"}),Object(x.jsx)(Qt.a,{source:"email"}),Object(x.jsx)(rr.a,{source:"isAdmin"})]})}))},ar=r(708),cr=function(e){return Object(x.jsx)(Gt.a,Object(Q.a)(Object(Q.a)({title:"Add user"},e),{},{children:Object(x.jsxs)(Kt.a,{children:[Object(x.jsx)(Qt.a,{source:"name"}),Object(x.jsx)(Qt.a,{source:"email"}),Object(x.jsx)(ar.a,{source:"password"}),Object(x.jsx)(rr.a,{source:"isAdmin"})]})}))},sr=r(49),ir=function(){var e=m().user,t=Object(sr.a)();if(!e)return null;return Object(x.jsxs)(Lt.a,{history:t,dataProvider:Object(Dt.a)("/api"),children:[Object(x.jsx)(Wt.a,{name:"products",list:Ht,create:Zt,edit:_t}),Object(x.jsx)(Wt.a,{name:"users",list:tr,create:cr,edit:nr}),Object(x.jsx)(Wt.a,{name:"orders",list:Ut.a}),Object(x.jsx)(Wt.a,{name:"reviews",list:Ut.a}),Object(x.jsx)(Wt.a,{name:"ratings",list:Ut.a})]})},or=r(710),ur=function(){return Object(x.jsx)(it,{children:Object(x.jsxs)(Ke.a,{children:[Object(x.jsx)(se,{}),Object(x.jsxs)(or.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"wheat",paddingTop:"1%",paddingBottom:"2%"},maxWidth:"md",children:[Object(x.jsx)(dt,{}),Object(x.jsxs)(f.d,{children:[Object(x.jsx)(f.b,{exact:!0,path:"/",children:Object(x.jsx)(Ge,{})}),Object(x.jsx)(f.b,{exact:!0,path:"/products",children:Object(x.jsx)(De,{})}),Object(x.jsx)(f.b,{exact:!0,path:"/products/:id",children:Object(x.jsx)(Bt,{})}),Object(x.jsx)(f.b,{exact:!0,path:"/signup",children:Object(x.jsx)(Ye,{})}),Object(x.jsx)(f.b,{exact:!0,path:"/login",children:Object(x.jsx)(He,{})}),Object(x.jsx)(f.b,{exact:!0,path:"/shoppingcart",children:Object(x.jsx)(vt,{})}),Object(x.jsx)(f.b,{exact:!0,path:"/admin",children:Object(x.jsx)(ir,{})})]})]})]})})};s.a.render(Object(x.jsx)(ur,{}),document.getElementById("root"))}},[[613,1,2]]]);
//# sourceMappingURL=main.5dec0813.chunk.js.map